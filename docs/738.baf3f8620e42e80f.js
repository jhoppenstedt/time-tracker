"use strict";(self.webpackChunktime_tracker=self.webpackChunktime_tracker||[]).push([[738],{9738:(P,p,a)=>{a.r(p),a.d(p,{CalendarComponent:()=>Q});var e=a(4650),m=a(6895),r=a(3203),b=a(9756),v=a(9358),f=a(8115),D=a(9833),w=a(4004),_=a(4859),c=(a(2687),a(1281),a(5017),a(4006),a(3238));let I=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.BQ,c.si,c.BQ]}),o})();var k=a(3336),R=a(7735),x=a(1427),U=a(8421);const L=function(){return[0,6]};function N(o,l){if(1&o&&(e.ynx(0),e._UZ(1,"mwl-calendar-week-view",7),e.BQk()),2&o){const t=l.ngIf,n=e.oxw();e.xp6(1),e.Q6J("viewDate",n.viewDate)("events",t)("dayStartHour",8)("dayEndHour",20)("weekStartsOn",1)("excludeDays",e.DdM(6,L))}}const g={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},orange:{primary:"#e3bc08",secondary:"#FDF1BA"},green:{primary:"#16c439",secondary:"#70b97f",secondaryText:"#fff"}},J={normal:g.blue,vacation:g.green,sick:g.red,remote:g.orange};let Q=(()=>{class o{constructor(){this.workTimeService=(0,e.f3M)(R.g),this.viewDate=new Date,this.events$=(0,U.p4)(this.workTimeService.find()).pipe((0,w.U)(t=>t.map(n=>this.convertToEvent(n))))}convertToEvent(t){return{start:(0,b.Z)((0,v.Z)((0,f.Z)(t.date),t.start.hours),t.start.minutes),end:(0,b.Z)((0,v.Z)((0,f.Z)(t.date),t.end.hours),t.end.minutes),title:"normal"===t.type||"remote"===t.type?(0,D.Z)((0,x.I1)(t.start,t.end),{format:["hours","minutes"]}):t.type.toUpperCase(),allDay:"normal"!==t.type&&"remote"!==t.type,color:J[t.type]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:16,vars:13,consts:[[1,"flex","flex-row","items-end"],[1,"text-2xl","font-medium","mb-3","flex-1"],[1,"mb-2"],["mat-icon-button","","mwlCalendarPreviousView","",3,"view","viewDate","viewDateChange"],["mat-icon-button","","mwlCalendarToday","",3,"viewDate","viewDateChange"],["mat-icon-button","","mwlCalendarNextView","",3,"view","viewDate","viewDateChange"],[4,"ngIf"],[3,"viewDate","events","dayStartHour","dayEndHour","weekStartsOn","excludeDays"]],template:function(t,n){1&t&&(e.TgZ(0,"header",0)(1,"h1",1),e._uU(2),e.ALo(3,"calendarDate"),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("viewDateChange",function(s){return n.viewDate=s}),e.TgZ(6,"mat-icon"),e._uU(7,"chevron_left"),e.qZA()(),e.TgZ(8,"button",4),e.NdJ("viewDateChange",function(s){return n.viewDate=s}),e.TgZ(9,"mat-icon"),e._uU(10,"event"),e.qZA()(),e.TgZ(11,"button",5),e.NdJ("viewDateChange",function(s){return n.viewDate=s}),e.TgZ(12,"mat-icon"),e._uU(13,"chevron_right"),e.qZA()()()(),e.YNc(14,N,2,7,"ng-container",6),e.ALo(15,"async")),2&t&&(e.xp6(2),e.hij(" ",e.Dn7(3,7,n.viewDate,"weekViewTitle","en")," "),e.xp6(3),e.Q6J("view","week")("viewDate",n.viewDate),e.xp6(3),e.Q6J("viewDate",n.viewDate),e.xp6(3),e.Q6J("view","week")("viewDate",n.viewDate),e.xp6(3),e.Q6J("ngIf",e.lcZ(15,11,n.events$)))},dependencies:[m.Ov,r.p$,r.YX,r.MG,r.nA,r.vk,r.Mc,r.bZ,r.TK,_.ot,_.lW,I,k.Ps,k.Hw,m.O5],encapsulation:2,changeDetection:0}),o})()}}]);